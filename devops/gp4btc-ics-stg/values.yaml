iam-cache-server-helm:
  replicaCount: 3

  image:
    repository: "098061033856.dkr.ecr.us-west-2.amazonaws.com/ics-api"
    pullPolicy: IfNotPresent

  imagePullSecrets: [ ]
  nameOverride: "ics"
  fullnameOverride: "ics"

  serviceAccount:
    # Specifies whether a service account should be created
    create: true
    # Annotations to add to the service account
    annotations: { }
    # The name of the service account to use.
    # If not set and create is true, a name is generated using the fullname template
    name: ""

  podAnnotations: { }

  podSecurityContext: { }
  # fsGroup: 2000

  securityContext: { }
    # capabilities:
  #   drop:
  #   - ALL
  # readOnlyRootFilesystem: true
  # runAsNonRoot: true
  # runAsUser: 1000

  service:
    type: ClusterIP
    port: 3000

  ingress:
    enabled: false

    tls: []

  config:
    secretRefName: ics-secrets
    configRefName: ics-cm
    jwtKeysSecretName: jwt-keys
    jwtKeysMountPath: "/keys"

  appValues:
    CHAIN_ID: 73799
    CHAIN_NAME: volta
    NATS_ENVIRONMENT_NAME: ewf-gp4btc-staging
    PUBLIC_RESOLVER_ADDRESS: 0x0a97e07c4Df22e2e31872F20C5BE191D5EFc4680
    ENS_REGISTRY_ADDRESS: 0xd7CeF70Ba7efc2035256d828d5287e2D285CD1ac
    ROOT_DOMAIN: iam.ewc
    DID_REGISTRY_ADDRESS: 0xc15d5a57a8eb0e1dcbe5d88b8f9a82017e5cc4af
    CLAIM_MANAGER_ADDRESS: 0x5339adE9332A604A1c957B9bC1C6eee0Bcf7a031
    DOMAIN_NOTIFIER_ADDRESS: 0xeea658026d6CDede4380D3aD030beAC911758A93
    RESOLVER_V1_ADDRESS: 0xf5EA22c1F799d425356c2aab2004200Ab4490D2b
    RESOLVER_V2_ADDRESS: 0xcf72f16Ab886776232bea2fcf3689761a0b74EfE
    ASSETS_MANAGER_ADDRESS: 0x524563FeA0c9b54B337F0bAc366A9f541d26b3ea
    ASSETS_SYNC_INTERVAL_IN_HOURS: 10
    ASSETS_SYNC_HISTORY_INTERVAL_IN_HOURS: 21
    ASSETS_SYNC_ENABLED: false
    DIDDOC_SYNC_INTERVAL_IN_HOURS: 12
    DID_SYNC_ENABLED: true
    DID_SYNC_MODE_FULL: false
    ENS_SYNC_INTERVAL_IN_HOURS: 11
    ENS_SYNC_ENABLED: true
    ENABLE_AUTH: true
    JWT_PRIVATE_KEY_PATH: /keys/private.pem
    JWT_PUBLIC_KEY_PATH: /keys/public.pem
    STRATEGY_CACHE_SERVER: https://identitycache-gp4btc-staging.energyweb.org/v1
    STRATEGY_NUM_BLOCKS_BACK: 10
    JWT_ACCESS_TOKEN_EXPIRES_IN: 15m
    JWT_REFRESH_TOKEN_EXPIRES_IN: 1h
    JWT_ACCESS_TOKEN_NAME: token
    JWT_REFRESH_TOKEN_NAME: refreshToken
    STATUS_LIST_DOMAIN: https://identitycache-gp4btc-staging.energyweb.org/v1
    CHAIN_REQUEST_ATTEMPTS: 5

  opsValues:
    DB_NAME: ics
    NODE_ENV: production
    UNIVERSAL_RESOLVER_URL: https://dev.uniresolver.io/10/identifiers/
    NATS_VERSION: 2.1.8
    NATS_CLIENTS_URL: iam-cache-server-nats.ics.svc.cluster.local:4222
    LOGS_DIRECTORY: /app/logs
    NESTJS_PORT: 3000
    DB_MAXIMUM_CONNECTION_POOL: 56 # https://github.com/energywebfoundation/iam-cache-server/blob/develop/README.md#connection-pooling
    SENTRY_ENV: gp4btc-staging
    IPFS_CLIENT_PORT: 5001
    IPFS_CLIENT_PROJECT_ID: 2DFOVbJGkFy289ekGv5BjgZngCt
    IPFS_CLIENT_HOST: ipfs.infura.io

  resources:
    limits:
      cpu: 750m
      memory: 1Gi
    requests:
      cpu: 500m
      # High memory request is due to DIDKit usage https://github.com/spruceid/didkit/issues/301
      # We anticipate memory usage to decrease once node v18 is used
      memory: 900Mi

  autoscaling:
    enabled: true
    minReplicas: 3
    maxReplicas: 3
    targetCPUUtilizationPercentage: 50
    targetMemoryUtilizationPercentage: 85

  nodeSelector: { }

  tolerations: [ ]

  affinity: { }

  sealedSecret:
    enabled: true
    annotations: { }
    encryptedData:
      SENTRY_DNS: AgBRuxweLeztoa/Z02guxkNglh9KGXEW3KjuSv2kdysu46gerkCsqJavC6DLf59Y1lWzxkzkBH4sqYOra/6cfr9WAZT2ttsvnIIgpCeYawQGZobG56XpQ75SSTlGUOjzsZDnvfnrWRrwBCrFGkFZ37gVbB8I75ZoX23bDwlycaR/278CSkKZYz4xKMcUOO9bZprapHRrB6R2vCj5aAqVxazS9Umlxv6Zm7Gve4wdvjJounk25FXgIg7U1es0+O5cYqTQzosgPK6ZjrdMyTNNVJmnu/eY6qs5i1O4fND5fYT8gYq93SkMkS3iNHQ3HKUN+GfUOwPUE6eSeLPcW9jCdtErDLqR5ewulBmKA+J36M0qnOmjMIfMITogQo8HsSzGD3HcVh86D8YlfMHY9XmflTB9UnqC7OCMiJfqbwiNwOzVIbrk/8sxbTHx9l0+8vcv9hKHRI58692LvnWJhE4sFxnPK2/qReF5kcj6W9QM+2yTuzav+KJtAl4wq8AKthPBMm6TRNmOLCWx14Isml1ZX/7oDWcpg28u2jH4Q7GEWLa6/1Ar0a5iTmRSg11tNstv+5N3rceUkbypyx+Joi2dhRl8JppGdBnsxT7avZH/3nKYA8o5y7/1vIO0SQYrGYyADlpQXsSReKYDw8HW/jYJXdJ/sa1h6b28GQzS+kEgQO5UQabwTS0Yh3utMIz/0nMUDLKjwZ1dZW1UcVQUUbyUNFhcSAR4RkVJ/byf/EOP4ZmrThf6Y0c6fc35a5m8SQgxoyAkp/6ZO8UYb7aBJrq7KF4eKxcWD7qd9tjq
      STRATEGY_PRIVATE_KEY: AgCwkzKEKG4ezXw/LUFOdvF5qFmAYtUVAONrhPOYC+Iy7Wdbi0IvCrQjh9/hPsm4OvskBA3lGpkEGN0UyEup2UmcDdL3yFEieXsPBrg/Rw7oojxmpCc5XrU8qHD6g+HAQPZkJinFJeIWrLwj6pdbl1+YJfNRl/BQc6wMKOOqYe4tZdnROst5syInOs7Ae9f+kn8aqryrTxFUg30IeKyiTqCN/KgZR7rR5Mv1LLRWaDiI7d22rGAlfWZdoWPTkmKgJXs6EvyTgp1OKbSNtVnUniDBju6Pud1h9gR0WTx50ZXwNKkLRqff+VUSeXyYjoGv602V5VfkNZb3ohNyBw1DWTB/NXECTMH+3acM0arFrD1DzVdQoxJ/ymD8FYNyuNqkZ4edvJ7FADxFCQP2YRU2oX2ex7rXYx3t61fxh7psR3GZbhHD9VWHgmzCg2/uzuEvwPBKFhtNFQobwIKVnSopIP+y+4Ge/N+6Nvp3lPfYOo6phxVfHXYio2JWsvmRYGTJMZUCQx176hNHQKxaNu6rmN6AVKEaqVlfwvXVnXXd/eVXVkt3L5Sen0VVqYO0C0wsPauGu6XYajv5LLzklpXTZ1rK+kzJH8TQ4IhLKreVsXffQCwjyMyG8ApeiT4eY6JXZgagg2RNjEjNRC5fS8o7pLdJE9JSwN221SD4z5OectPusu6pimUJcYE2NzJ5XvemoN0CEW04O/e6FMLkaJDeGDKqOQfQWpGYz6CoaKJqYaPw0hzqsZCiDV1lbwI4v5gbzJ5/5fdNPl1gtU5aB0au4QWZ
      ENS_URL: AgC0/tEwSVjjylDcB0VBI/893lI0r9IB734eiQUtVuxevny1WeP421WvpVnfnwvh1vZLMXa0et1fMsXQ3+G+cjzruJvgrnY+HKrd1MOvrxHADlSAHjbAlCLax1tsjAXu51ml71eDIivWB6Hd/4UymtmHE6U21cWBbeXxeKnQNcbBMQehm3gtCweDRKPA62U1PYrmm8JRyrC+sXAkg+qvDNW7jtMQqW4SaUjxpLLnY1u2gialhxzy+VEpbhC4QFLC1kJALEAm3hprftFsnNsOrWw9oGwv8jldhoDbjkT4SspVFN1U4e//lc6hq7tfScWq/qKhNnUZQ4sdCbIsV98b6SwEPC2Llb2/N5l7hYme4z/Eoc1COKw5yzzhrQD44g0lEcTa9vy8rQizBgTVRNurKWXpN3d3cG9UvxfpybnLKbECpC40vx1G19JrRSDFmNKJqhOCIwYHTBQk4ZCYgxK/HNIVpF3QY1vk9pn/eqSm7IIMbhOJW+9abe1UVKT4LwOAcLA5AKWJhkf3F1b3zTxO6SkXtCGniK82ychBvfX4m+xuecE/2Zg2SHW9P/RhXHnMOJzkzeYPo786TYSlvQfIl5t1iqcw8Xjz9bx+IivsFg/Zei6VSMqe6sz4mfwdFDWC/+cV4FITJ7gCAI6LXH8JTC7iLvDo1jb9KkTafxBIrMWOfzngxrrLJELmbc2O71gQq/rFI5olpuvPRIuINy7iZFlOy2asi3NHk7GR8hOJSB2QTlR2jBt8XQlnvxwwUs87XcYlqPVevQ==
      IPFS_CLIENT_PROJECT_SECRET: AgAxy83eYk79A6TVixujp6b47GhivDpbnkyr57ETOIBIYW8m8AZFuY6YOMcp9wcf6Z0y6QHy1XvsBafWwAVMMP6H/Tez8JZa6tlM1V8A9e3lp+pv32QvwSsVY20ZZe7FUn7XyUiWxKW87AHlCwyYY2Orok+KHkIxqCYM4KS5g+MUSuFe5MOiPMtXnxzh1rSXgpfctDoQyRSRozIx7C9mcss2/8Y2DeJhIWom9GwFVvv4vPCDMyU4Q76Aimojzl7NvhO/9qmZtzze7xQphWoV+cPnLD4ZEdZSE7DTp/QcAkurKCZ7iOBEaKwdFpD7bhClFH69RU8do+fyciICl+0AsrZE2GmECZlp+V2xmTmpHaqKnervd1Y9b8wME+PkcB+MjQDfQP0haKF5zthZ4slzc/ZeykEFQYwjVH4/pU5llyy+KDf9jDZu/bGREX2YHH552VSLx69gBrMT8EqKDRzod7eSR5wkzUoHBaMHj1FvjPJagqmjb3Id/gLje7ojNEBWMwcexN8VpxV7yhkJFk/9JFZ8YLF1zB+QubseseBVM7kJyJKufH8N0CNEtk7Lyw8sD59GiLNxhIst2/6SwzQAkjMelgSVVrptmV1Q4uRofH08nVR+u1GjrmEcXOR89blM51ZvGpryJWms3Skseoys1DI9qi/di2Kk5dw2SDAK+mBwGTEzpCFxewvrEInmoFkerAD0Xj22UB9GNZ/MetJd95YMM7tbYd2NeRnF8zLK8obHVA==
      IPFS_CLUSTER_ROOT: AgBDajMrfILZGX3j2XHTdo/ooqodCGYTnbr8ie3EbeYsDXC36dLblkmHw9fCXaBgpcyedE6DkYEBRuaYaj3gHPPW2vswyfJTkiPRNlydt4iCeb+r/+FN331OmEVKPObSzHDPnlXh/yqzrTCVq3R7TOfxuV2jqpFqt4x5TSTlYN0D0QnyMxeAbUuwmQx0y+agDTWTahcY0XbsSOmqMczgHybx//tA+KWyEVfl/eSUn+mvu3xt1XBIXrN8FYVg5jkppaHyykBnKmKocNujdF4g62QI0ILJvkGZNc6b6N9tnT72qQBl0PDLCrlYOec6EX+UPIN+gvmSuSvifbwrcZ7WyzVnBnKAQRklgpoRumhzlwMvG75I4JKhF9yzBWACAeFUyhZyo6QJPOYUJb0YLDfaPaY1tfvXqgQO7wTUKKir79Qh/IqYVJkV/li6ZhnYZefs2EUnPVjI1kOOgy8RS4BAH4KGxRXOUCrfpw+sstR5LusTGPmM8zfyizr/ku7cbDyXzPuERtKcix/NnCE4naYNb317U0hZ6Q9PkGC9J7/ZFl4ulJlErbOjepM5aRDsiC0pzIabLCS/EFP5Sf7AM97YtSl+O11z+/tsd8ghcOE7NOg/GFlShjW5rzmBiaQAxL0Q20nOvHfyinfTc/2IdRPyWFMiDYGLljtFzG4GRbr4/NR2NNc4I3UbL0uJfgxIrCwfKAcvWX4pgIZk/3Tle/HoEamw3B5PqTfkkee99U3NPyTXWsyKPGsXSl77Nucn
      IPFS_CLUSTER_USER: AgB08Q9zgPlRPxDYc2Fp6ATb0jYW8UbP0SFRrbuai3icJZx5w0Wxl/pNvSnI6lA3fmtSV8YKNqggNE5coiOute7zDLa8hJwZs4ICqZCZWaAIh+5YgCEmmNmuwPqlYZzI4STHADZxIF9atJJv/DNqvsDfwSNQUnnDjp4nntwIXY28n0mpjbqU9JuBoPA0gHSg5AVADXgpXaT5SXyDZHQDZRqWJ0etvOcMof/PkQwhJINW8xm2qpfLj8QMFC+XrqRARnbRcZ94g7kcC5S2vJqIJBBvUVbZxxher/BdAbTtl3Z5bYiKgCZ5R9PRHh6P5La8TBDd6QqmtwXfuVXUFXnbGRtWrvBVbJlbHkLEVk3vB0f4bXRV7FvgYlR15zZAGZAC/PaLAg1+pZIRPpDUI+xar/+t5Y9OJQNW/GrllMqX0rZ8Sbw1lD+MnrhrajqHbrTbK8Kl/SP8HE4oi0OaozBzb5F2s7W28lrn/DdjSv1JMTH06MpCCf4mOV/hWrXccCuRLYfoRDGGLRlVnLJi7gGo9CRYUo+K4TNM3f218v9LUxfgpjoNlf9sKe9HNBX2vLJbqhZK5I5ZONNkAWq/Sjn9AcCv7bD4wlhKIkKguWoyq3Auh6sYQFYpmWdRgw1BBnxQ9OjWTUdIKBzWP1KFTf44SoWE3FUMU4TJ7HcyPk3+OO3SMuUo61yTjDy4t3cosIyYynzB3oqfDUISQ8PJ4bntEPVJb5BF/w==
      IPFS_CLUSTER_PASSWORD: AgAW5rz83J5pHO1TYtcf0J9D3oJWsKCVSAbu6Fej+nIsAWX/tVbeGD2R1P41Rif6CKn78CaQrd4cAfRkHt/0ELWaDbj1lO6k6JddlJWrf4uVxtTx+OSoa2hBxjDbAA4+tJtYeIFgL2iqmjZhmgUgxvf1aJ9DuMEtIGBgl1lO4WEz14POwumB1ibUIKbikWqCQ6vUgOUpEHF9jbcu9kSVTaxmzFzwGPQ6XI6lJngaKdGUhNxq/Kf27QIptsD2njGJ6rgscaoSudHn8Qy929xr7+rPaANS0eTJh0LlV6zK4ih6Eabx7Gk/1yaYVeLtb2khbThBginzTjviZHwwPFaeGrJwbfShXn05C4wTRFsVEYtm5GmT26b4ZS9UYRiZg7+QiEdeaGeOZeZ7pVx4617DEGwdR+v2/kKX5slhVMSDy3FNj6rC6aRHPMeFag2MeWRubel2RgHr/IZYjQxhDV4ZpGn41G92TAcEEMVlmw7KtSgceCV8bhrzW7Na/8AQHKEQAVn0ufVQBmhII+J8b47iHhf4KxgK+VpA0VHdMKwV7p2EnjreooPLBA7ri7vsyyDsyU5CqpNLtnveUWEjYAHpyQxTzNt8Wqcm9M1Magzvn7mN+oc3TBWA331hsG0gqCRLG5HtSzkvfj4XzFYcuCO91aso+Tz9PM4JtWxbwj7tJEnq2gjPrXYHfiojEWpFIIeXfCGCPbputRREZufNVme+ZT+qcZaS8P02Pg==
      
